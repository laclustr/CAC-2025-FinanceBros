---
---

<div class="flex items-start justify-center h-screen bg-blue-50 pt-24">
  <form id="registerForm" class="flex flex-col gap-4 p-8 rounded-xl bg-white shadow-lg w-full max-w-md">
    <h1 class="text-2xl font-bold text-center">Register</h1>
    <input formnovalidate id="email" type="text" placeholder="Email" class="border-2 border-gray-300 rounded-md p-2" required />
    <input formnovalidate id="password" type="password" placeholder="Password" class="border-2 border-gray-300 rounded-md p-2" required />
    <button id="submitBtn" type="submit" class="bg-blue-500 text-white p-2 rounded-md hover:bg-blue-600 active:bg-blue-800 transition">
      Register
    </button>
  </form>
</div>

<script>
  const form = document.getElementById('registerForm');
  const submitBtn = document.getElementById('submitBtn');

  if (form && submitBtn) {
    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      submitBtn.disabled = true;
      submitBtn.textContent = 'Registering...';

      const emailInput = document.getElementById('email');
      const passwordInput = document.getElementById('password');
      if (!emailInput || !passwordInput) return;

      const email = emailInput.value;
      const password = passwordInput.value;

      try {
        const res = await fetch('/api/register', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ email, password }),
        });

        const data = await res.json();
        alert(data.message || 'Something went wrong.');
      } catch (error) {
        alert('Network error, please try again.');
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'Register';
      }
    });
  }
</script>
