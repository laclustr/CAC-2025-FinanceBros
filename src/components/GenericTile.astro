---
import { Image } from 'astro:assets';

const {
  title,
  description,
  imgAlign = "left",
  img = null,
  alt = '',
  imageWidth = 400,
  imageHeight = 400,
  imageClass = "rounded-xl",
} = Astro.props;
---

<div
  class={`
    flex flex-col-reverse items-center justify-center gap-4 w-full max-w-[95vw] mx-auto
    bg-[#000435] border-2 rounded-xl border-gray-200 
    shadow-md hover:shadow-lg transition-all p-4 md:p-6 lg:p-8
    min-h-0 max-h-[85vh]
    ${imgAlign === 'right' ? 'lg:flex-row-reverse' : 'lg:flex-row'}
  `}
>
  {img && (
    <div class="w-full max-w-xs flex-shrink-0 lg:w-2/5 lg:max-w-none">
      <Image
        src={img}
        alt={alt}
        width={imageWidth}
        height={imageHeight}
        class={`${imageClass} w-full h-auto object-contain max-h-[40vh] lg:max-h-[60vh]`}
        loading="lazy"
        quality={90}
        format="webp"
      />
    </div>
  )}
  
  <div class={`flex-1 lg:flex-none lg:w-3/5 text-center px-2 ${imgAlign === 'right' ? 'lg:text-right lg:pr-6' : 'lg:text-left lg:pl-6'}`}>
    <h3 class="text-xl md:text-2xl lg:text-3xl xl:text-4xl font-semibold text-white leading-tight">
      {title}
    </h3>
    <p class="text-sm md:text-base lg:text-lg xl:text-xl text-gray-300 mt-2 lg:mt-4 leading-relaxed">
      {description}
    </p>
  </div>
</div>